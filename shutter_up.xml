<macro name="shutter_up_fixed" icon="UP">

    <assert-service description="Ensure ...E110... service" uuid="2141e110-213a-11e6-b67b-9e71128cae77">
        <assert-characteristic description="Ensure ...E112... characteristic (Write)" uuid="2141e112-213a-11e6-b67b-9e71128cae77">
            <property name="WRITE_WITHOUT_RESPONSE" requirement="MANDATORY"/>
        </assert-characteristic>
        <assert-characteristic description="Ensure ...E111... characteristic (Notify)" uuid="2141e111-213a-11e6-b67b-9e71128cae77">
            <property name="NOTIFY" requirement="MANDATORY"/>
        </assert-characteristic>
    </assert-service>

    <write-descriptor
        description="Enable notifications for ...E111..."
        service-uuid="2141e110-213a-11e6-b67b-9e71128cae77"
        characteristic-uuid="2141e111-213a-11e6-b67b-9e71128cae77"
        descriptor-uuid="00002902-0000-1000-8000-00805f9b34fb" 
        value="0100"
        type="WRITE_REQUEST" />

    <write 
        description="Write 0x01050004 to ...E112..." 
        characteristic-uuid="2141e112-213a-11e6-b67b-9e71128cae77" 
        service-uuid="2141e110-213a-11e6-b67b-9e71128cae77" 
        value="01050004" 
        type="WRITE_COMMAND"/>

    <wait-for-notification 
        description="Wait for notification to ...E111..." 
        characteristic-uuid="2141e111-213a-11e6-b67b-9e71128cae77" 
        service-uuid="2141e110-213a-11e6-b67b-9e71128cae77">
        
        <assert-value 
            description="Assert value equals 0x0900100043" 
            value="0900100043"/>
            
    </wait-for-notification>
    
</macro>
